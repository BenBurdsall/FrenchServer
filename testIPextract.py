event = {'version': '0', 'id': '09eb4e89-47d6-cf5b-9ae8-01614be96041', 'detail-type': 'ECS Task State Change', 'source': 'aws.ecs', 'account': '467134426671', 'time': '2024-07-29T13:30:02Z', 'region': 'eu-west-1', 'resources': ['arn:aws:ecs:eu-west-1:467134426671:task/FreServer/9de12f67ddfd42758cf2d0e7f4486e6f'], 'detail': {'attachments': [{'id': '2d250961-5c88-459a-83fa-0312df91403c', 'type': 'eni', 'status': 'ATTACHED', 'details': [{'name': 'subnetId', 'value': 'subnet-045e9d27aba01abc4'}, {'name': 'networkInterfaceId', 'value': 'eni-0e0e648f1e09846a4'}, {'name': 'macAddress', 'value': '06:55:13:f1:1c:b7'}, {'name': 'privateDnsName', 'value': 'ip-172-31-27-179.eu-west-1.compute.internal'}, {'name': 'privateIPv4Address', 'value': '172.31.27.179'}]}], 'attributes': [{'name': 'ecs.cpu-architecture', 'value': 'x86_64'}], 'availabilityZone': 'eu-west-1b', 'capacityProviderName': 'FARGATE_SPOT', 'clusterArn': 'arn:aws:ecs:eu-west-1:467134426671:cluster/FreServer', 'connectivity': 'CONNECTED', 'connectivityAt': '2024-07-29T06:28:40.416Z', 'containers': [{'containerArn': 'arn:aws:ecs:eu-west-1:467134426671:container/FreServer/9de12f67ddfd42758cf2d0e7f4486e6f/dd55e893-2cda-42f4-a2b7-e9b216bbbe79', 'lastStatus': 'RUNNING', 'name': 'FRESERVIMAGE', 'image': '467134426671.dkr.ecr.eu-west-1.amazonaws.com/frenchserver:latest', 'imageDigest': 'sha256:789403814fe4deb3c80032cc2a9c60d122c968c8843b86410397fa97ba852eb5', 'runtimeId': '9de12f67ddfd42758cf2d0e7f4486e6f-1316067861', 'taskArn': 'arn:aws:ecs:eu-west-1:467134426671:task/FreServer/9de12f67ddfd42758cf2d0e7f4486e6f', 'networkInterfaces': [{'attachmentId': '2d250961-5c88-459a-83fa-0312df91403c', 'privateIpv4Address': '172.31.27.179'}], 'cpu': '0'}], 'cpu': '1024', 'createdAt': '2024-07-29T06:28:36.914Z', 'desiredStatus': 'STOPPED', 'enableExecuteCommand': False, 'ephemeralStorage': {'sizeInGiB': 20}, 'group': 'service:FrenchECS', 'launchType': 'FARGATE', 'lastStatus': 'RUNNING', 'memory': '3072', 'overrides': {'containerOverrides': [{'name': 'FRESERVIMAGE'}]}, 'platformVersion': '1.4.0', 'pullStartedAt': '2024-07-29T06:28:48.608Z', 'pullStoppedAt': '2024-07-29T06:28:54.934Z', 'startedAt': '2024-07-29T06:28:56.818Z', 'startedBy': 'ecs-svc/3351744021735852903', 'stoppingAt': '2024-07-29T13:30:02.219Z', 'stoppedReason': 'Scaling activity initiated by (deployment ecs-svc/3351744021735852903)', 'stopCode': 'ServiceSchedulerInitiated', 'taskArn': 'arn:aws:ecs:eu-west-1:467134426671:task/FreServer/9de12f67ddfd42758cf2d0e7f4486e6f', 'taskDefinitionArn': 'arn:aws:ecs:eu-west-1:467134426671:task-definition/FrenchServerTask:1', 'updatedAt': '2024-07-29T13:30:02.219Z', 'version': 5}}

detail = event['detail']
clusterArn = detail['clusterArn']

service = detail['group'].replace("service:","")

print(clusterArn)
print(service)
print(f"extracted cluster as {clusterArn} and service as {service}")